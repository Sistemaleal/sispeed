{% extends "base.html" %}

{% block title %}{% if mode == "edit" %}Editar Contato{% else %}Novo Contato{% endif %} - Sispeed{% endblock %}

{% block content %}
<div class="page-wrapper">
    <div class="page-header">
        <h1>{% if mode == "edit" %}Editar contato{% else %}Novo contato{% endif %}</h1>
        <p>Preencha os dados do contato. Apenas "Nome do cliente / Nome fantasia" é obrigatório.</p>
    </div>

    <div class="card-form">
        <form method="post">
            {% csrf_token %}
            <div class="form-grid-2">
                <div class="form-group">
                    <label>CPF/CNPJ</label>
                    {{ form.document }}
                </div>
                <div class="form-group">
                    <label>Nome do cliente / Nome fantasia *</label>
                    {{ form.display_name }}
                    {% for error in form.display_name.errors %}
                        <div class="field-error">{{ error }}</div>
                    {% endfor %}
                </div>
                <div class="form-group">
                    <label>Razão social</label>
                    {{ form.legal_name }}
                </div>

                <div class="form-group">
                    <label>Telefone</label>
                    {{ form.phone }}
                </div>
                <div class="form-group">
                    <label>E-mail do contato</label>
                    {{ form.email }}
                </div>
                <div class="form-group">
                    <label class="checkbox-item">
                        {{ form.is_active }} Contato ativo
                    </label>
                </div>

                <div class="form-group">
                    <label>CEP</label>
                    {{ form.cep }}
                </div>
                <div class="form-group">
                    <label>Endereço</label>
                    {{ form.address }}
                </div>
                <div class="form-group">
                    <label>Número</label>
                    {{ form.number }}
                </div>
                <div class="form-group">
                    <label>Bairro</label>
                    {{ form.district }}
                </div>
                <div class="form-group">
                    <label>Cidade</label>
                    {{ form.city }}
                </div>
                <div class="form-group">
                    <label>UF</label>
                    {{ form.uf }}
                </div>

                <div class="form-group">
                    <label>Relacionamento</label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">{{ form.is_client }} Cliente</label>
                        <label class="checkbox-item">{{ form.is_supplier }} Fornecedor</label>
                        <label class="checkbox-item">{{ form.is_partner }} Parceiro</label>
                        <label class="checkbox-item">{{ form.is_employee }} Funcionário</label>
                        <label class="checkbox-item">{{ form.is_other }} Outros</label>
                        <label class="checkbox-item">{{ form.is_seller }} Vendedor</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Comissão (%)</label>
                    {{ form.commission }}
                    <small class="field-help">Ex.: 5,00 para 5% de comissão.</small>
                    {% for error in form.commission.errors %}
                        <div class="field-error">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="form-group" style="grid-column: 1 / -1;">
                    <label>Observações</label>
                    {{ form.notes }}
                </div>
            </div>

            <button type="submit" class="btn-primary">
                {% if mode == "edit" %}Salvar alterações{% else %}Cadastrar{% endif %}
            </button>
        </form>
    </div>
</div>
{% endblock %}